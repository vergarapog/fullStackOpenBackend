(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{19:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var c=t(1),o=t.n(c),r=t(14),u=t.n(r),i=(t(19),t(3)),a=t(4),s=t.n(a),d="api/persons",l=function(){return s.a.get(d).then((function(e){return e.data}))},j=function(e){return s.a.post(d,e)},b=function(e){return s.a.delete("".concat(d,"/").concat(e))},f=function(e,n){return s.a.put("".concat(d,"/").concat(e),n)},m=t(0),h=function(e){var n=e.message,t=e.type;return null===n?null:(console.log(t),Object(m.jsx)("div",{className:t,children:n}))},O=function(e){return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{children:["Filter shown: ",Object(m.jsx)("input",{value:e.search,onChange:e.onChange,onKeyUp:e.onKeyUp})]}),e.personList.map((function(e){return Object(m.jsx)(x,{name:e.name,number:e.number},e.name)}))]})},p=function(e){return Object(m.jsx)("div",{children:Object(m.jsxs)("form",{onSubmit:e.addNote,children:[Object(m.jsxs)("div",{children:["Name: ",Object(m.jsx)("input",{value:e.newName,onChange:e.onChangeName})]}),Object(m.jsxs)("div",{children:["Number: ",Object(m.jsx)("input",{value:e.newNumber,onChange:e.onChangeNum})]}),Object(m.jsx)("div",{children:Object(m.jsx)("button",{type:"submit",children:"add"})})]})})},v=function(e){return Object(m.jsx)("div",{children:e.persons.map((function(n,t){return Object(m.jsx)(x,{name:n.name,number:n.number,deleteFunc:function(){return e.handleDelete(n.id)}},t)}))})},x=function(e){return Object(m.jsxs)("div",{children:[e.name," ",e.number,Object(m.jsx)("button",{onClick:e.deleteFunc,children:"Delete"})]})},g=function(){var e=Object(c.useState)([]),n=Object(i.a)(e,2),t=n[0],o=n[1],r=Object(c.useState)(""),u=Object(i.a)(r,2),a=u[0],s=u[1],d=Object(c.useState)(""),x=Object(i.a)(d,2),g=x[0],C=x[1],N=Object(c.useState)(""),w=Object(i.a)(N,2),S=w[0],y=w[1],k=Object(c.useState)([]),F=Object(i.a)(k,2),D=F[0],U=F[1],L=Object(c.useState)(""),P=Object(i.a)(L,2),T=P[0],I=P[1],K=Object(c.useState)(""),A=Object(i.a)(K,2),B=A[0],E=A[1];Object(c.useEffect)((function(){l().then((function(e){return o(e)}))}),[]);return Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:"Phonebook"}),Object(m.jsx)(h,{message:T,type:B}),Object(m.jsx)(O,{search:a,onChange:function(e){if(s(e.target.value),a.trim().length){var n=t.filter((function(e){return e.name.trim().toUpperCase().includes(a.toUpperCase().trim())}));U(n)}},onKeyUp:function(){a.trim().length||U([])},personList:D}),Object(m.jsx)("h2",{children:"Add New Person"}),Object(m.jsx)(p,{addNote:function(e){if(e.preventDefault(),console.log(t),t.map((function(e){return e.name})).includes(g)){if(window.confirm("".concat(g," is already added to phonebook replace old number with a new one?"))){var n=t.find((function(e){return e.name===g})).id;f(n,{name:g,number:S}).then((function(e){o(t.map((function(t){return t.id===n?e.data:t})))})).catch((function(e){I("Information of ".concat(g," has been already removed from server")),E("error"),setTimeout((function(){I(null),E(null)}),4e3),o(t.filter((function(e){return e.id!==n})))}))}}else j({name:g,number:S}).then((function(e){o(t.concat(e.data)),C(""),y(""),setTimeout((function(){I(null),E(null)}),4e3),I("Added ".concat(g)),E("success")}))},newName:g,onChangeName:function(e){C(e.target.value)},newNumber:S,onChangeNum:function(e){y(e.target.value)}}),Object(m.jsx)("h2",{children:"Numbers"}),Object(m.jsx)(v,{persons:t,handleDelete:function(e){console.log("".concat(e," needs to be deleted"));var n=t.find((function(n){return n.id===e})).name;window.confirm("delete ".concat(n," ?"))&&b(e).then((function(n){var c=t.filter((function(n){return n.id!==e}));o(c)}))}})]})},C=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,40)).then((function(n){var t=n.getCLS,c=n.getFID,o=n.getFCP,r=n.getLCP,u=n.getTTFB;t(e),c(e),o(e),r(e),u(e)}))};u.a.render(Object(m.jsx)(o.a.StrictMode,{children:Object(m.jsx)(g,{})}),document.getElementById("root")),C()}},[[39,1,2]]]);
//# sourceMappingURL=main.4d8332e0.chunk.js.map